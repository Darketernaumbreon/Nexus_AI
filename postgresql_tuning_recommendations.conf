# PostgreSQL Tuning Recommendations
# For High-Assurance Geospatial Backend System
# Target: Dynamic Routing & Large Datasets

# Memory Configuration
# shared_buffers: Set to 25-40% of System RAM
# Rationale: Cache road network indices (GIST) in memory for fast nearest-neighbor lookups.
shared_buffers = 4GB  # Example for 16GB RAM System

# work_mem: Set to 64MB-128MB
# Rationale: Complex spatial joins (ST_Intersects) require sorting and hash operations.
work_mem = 64MB

# maintenance_work_mem: Set to 1GB+
# Rationale: Accelerates VACUUM and index creation (crucial for GIST/SP-GIST).
maintenance_work_mem = 1GB

# Checkpoint Configuration
synchronous_commit = off # Optional: If slight data loss on crash is acceptable for speed
checkpoint_completion_target = 0.9

# Query Planner Cost Constants
# random_page_cost: Set to 1.1
# Rationale: Assumes SSD/NVMe storage. Encourages use of Index Scans (GIST) over Sequential Scans.
random_page_cost = 1.1
effective_io_concurrency = 200 # For SSDs

# Parallel Query
max_worker_processes = 8
max_parallel_workers_per_gather = 4
